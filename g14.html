<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Puzzle Hub | Infinite Arcade</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&family=Inter:wght@400;600&display=swap"
        rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --bg: #0f172a;
            --surface: rgba(30, 41, 59, .7);
            --border: rgba(255, 255, 255, .08);
            --accent: #10b981
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box
        }

        body {
            background: var(--bg);
            color: #f8fafc;
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center
        }

        .back-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            color: #94a3b8;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: .9rem;
            z-index: 99;
            transition: .2s
        }

        .back-btn:hover {
            color: #fff
        }

        .container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 24px;
            width: 100%;
            max-width: 800px;
            padding: 60px 20px
        }

        h1 {
            font-family: 'Outfit', sans-serif;
            font-size: 2.8rem;
            font-weight: 900;
            background: linear-gradient(135deg, #34d399, #059669);
            -webkit-background-clip: text; background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center
        }

        .subtitle {
            color: #94a3b8;
            font-size: 1.1rem;
            margin-top: -14px;
            text-align: center
        }

        .game-cards {
            display: flex;
            gap: 20px;
            width: 100%;
            justify-content: center;
            flex-wrap: wrap
        }

        .game-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 32px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 16px;
            flex: 1;
            min-width: 280px;
            cursor: pointer;
            transition: .3s;
            position: relative;
            overflow: hidden
        }

        .game-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, .03), transparent);
            opacity: 0;
            transition: .3s
        }

        .game-card:hover {
            transform: translateY(-4px);
            border-color: var(--accent);
            box-shadow: 0 12px 40px rgba(16, 185, 129, .15)
        }

        .game-card:hover::before {
            opacity: 1
        }

        .icon-wrapper {
            width: 70px;
            height: 70px;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            margin-bottom: 8px
        }

        #wordle-card .icon-wrapper {
            background: linear-gradient(135deg, #34d399, #059669);
            color: #fff;
            box-shadow: 0 8px 24px rgba(52, 211, 153, .3)
        }

        #hangman-card .icon-wrapper {
            background: linear-gradient(135deg, #f87171, #dc2626);
            color: #fff;
            box-shadow: 0 8px 24px rgba(248, 113, 113, .3)
        }

        .card-title {
            font-family: 'Outfit', sans-serif;
            font-size: 1.6rem;
            font-weight: 900
        }

        .card-desc {
            color: #94a3b8;
            text-align: center;
            font-size: .9rem;
            line-height: 1.5
        }

        /* Game Wrapper */
        #gameWrapper {
            display: none;
            flex-direction: column;
            align-items: center;
            width: 100%;
            gap: 16px
        }

        .mode-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 500px;
            margin-bottom: 8px
        }

        .btn-secondary {
            background: rgba(255, 255, 255, .05);
            border: 1px solid rgba(255, 255, 255, .1);
            border-radius: 10px;
            padding: 8px 16px;
            color: #f8fafc;
            font-family: 'Outfit', sans-serif;
            font-weight: 700;
            font-size: .9rem;
            cursor: pointer;
            transition: .2s
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, .1)
        }

        /* Wordle UI */
        #wordleUI {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            width: 100%;
            max-width: 500px
        }

        .grid {
            display: grid;
            grid-template-rows: repeat(6, 1fr);
            gap: 6px;
            margin-bottom: 10px
        }

        .row {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 6px
        }

        .tile {
            width: 56px;
            height: 56px;
            border: 2px solid #334155;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Outfit', sans-serif;
            font-size: 2rem;
            font-weight: 900;
            text-transform: uppercase;
            border-radius: 8px;
            background: rgba(15, 23, 42, .6);
            transition: transform 0.4s ease, background 0.4s ease
        }

        .tile[data-state="active"] {
            border-color: #64748b;
            transform: scale(1.05)
        }

        .tile[data-state="correct"] {
            background: #10b981;
            border-color: #10b981;
            color: #fff
        }

        .tile[data-state="present"] {
            background: #f59e0b;
            border-color: #f59e0b;
            color: #fff
        }

        .tile[data-state="absent"] {
            background: #334155;
            border-color: #334155;
            color: #94a3b8
        }

        .keyboard {
            display: flex;
            flex-direction: column;
            gap: 8px;
            width: 100%
        }

        .kbd-row {
            display: flex;
            justify-content: center;
            gap: 6px
        }

        .kbd-key {
            background: #334155;
            border: none;
            border-radius: 6px;
            min-width: 32px;
            height: 48px;
            font-family: 'Inter', sans-serif;
            font-weight: 600;
            font-size: 1.1rem;
            color: #f8fafc;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 1;
            max-width: 44px;
            transition: 0.2s;
            text-transform: uppercase
        }

        .kbd-key.large {
            flex: 1.5;
            max-width: 65px;
            font-size: .85rem
        }

        .kbd-key:hover {
            background: #475569
        }

        .kbd-key[data-state="correct"] {
            background: #10b981
        }

        .kbd-key[data-state="present"] {
            background: #f59e0b
        }

        .kbd-key[data-state="absent"] {
            background: #1e293b;
            color: #64748b
        }

        /* Hangman UI */
        #hangmanUI {
            display: none;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            width: 100%;
            max-width: 500px
        }

        .hm-canvas-wrap {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, .3)
        }

        canvas {
            display: block
        }

        .word-display {
            display: flex;
            gap: 12px;
            margin: 10px 0
        }

        .letter-box {
            width: 46px;
            height: 56px;
            border-bottom: 3px solid #64748b;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            font-family: 'Outfit', sans-serif;
            font-size: 2.2rem;
            font-weight: 900;
            text-transform: uppercase;
            color: #f8fafc;
            padding-bottom: 4px
        }

        .hm-keyboard {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 8px;
            max-width: 400px
        }

        .hm-key {
            width: 36px;
            height: 42px;
            background: #334155;
            border: none;
            border-radius: 8px;
            font-family: 'Inter', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: #fff;
            cursor: pointer;
            transition: .2s;
            text-transform: uppercase
        }

        .hm-key:hover:not(:disabled) {
            background: #4ade80;
            transform: translateY(-2px)
        }

        .hm-key:disabled {
            opacity: 0.4;
            cursor: not-allowed
        }

        .hm-key.used-wrong {
            background: #ef4444;
            opacity: 0.6
        }

        /* Result Toast */
        .toast {
            position: absolute;
            top: 100px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(15, 23, 42, .95);
            border: 1px solid var(--accent);
            color: #fff;
            padding: 12px 24px;
            border-radius: 12px;
            font-family: 'Outfit', sans-serif;
            font-weight: 700;
            font-size: 1.1rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, .5);
            opacity: 0;
            pointer-events: none;
            transition: 0.3s;
            z-index: 100
        }

        .toast.show {
            opacity: 1;
            pointer-events: auto;
            transform: translate(-50%, 20px)
        }

        .stats-bar {
            display: flex;
            gap: 16px
        }

        .stat {
            text-align: center
        }

        .stat-label {
            font-size: .65rem;
            text-transform: uppercase;
            letter-spacing: .1em;
            color: #64748b
        }

        .stat-val {
            font-family: 'Outfit', sans-serif;
            font-size: 1.2rem;
            font-weight: 700
        }
    </style>
</head>

<body>
    <a href="index.html" class="back-btn"><i class="fas fa-arrow-left"></i> Hub</a>

    <div class="toast" id="toast">Message</div>

    <!-- Menu -->
    <div class="container" id="menu">
        <h1>ðŸ§© Word Puzzle Hub</h1>
        <p class="subtitle">Choose your linguistic challenge</p>

        <div class="game-cards">
            <div class="game-card" id="wordle-card">
                <div class="icon-wrapper"><i class="fas fa-spell-check"></i></div>
                <div class="card-title">Wordle</div>
                <div class="card-desc">Guess the 5-letter hidden word in 6 tries. Color hints guide you to the answer.
                </div>
            </div>

            <div class="game-card" id="hangman-card">
                <div class="icon-wrapper"><i class="fas fa-skull"></i></div>
                <div class="card-title">Hangman</div>
                <div class="card-desc">Classic word guessing. Reveal letters one by one before the stickman meets his
                    doom.</div>
            </div>
        </div>
    </div>

    <!-- Game UI -->
    <div class="container" id="gameWrapper" style="padding-top:40px">
        <div class="mode-header">
            <div>
                <h2 style="font-family:'Outfit',sans-serif;font-size:1.5rem" id="gameModeTitle">Wordle</h2>
                <div class="stats-bar">
                    <div class="stat">
                        <div class="stat-label">Wins</div>
                        <div class="stat-val" id="winCount" style="color:var(--accent)">0</div>
                    </div>
                    <div class="stat">
                        <div class="stat-label">Streak</div>
                        <div class="stat-val" id="streakCount">0</div>
                    </div>
                </div>
            </div>
            <button class="btn-secondary" id="backMenuBtn">Change Game</button>
        </div>

        <!-- Wordle DOM -->
        <div id="wordleUI">
            <div class="grid" id="grid"></div>
            <div class="keyboard" id="keyboard"></div>
        </div>

        <!-- Hangman DOM -->
        <div id="hangmanUI">
            <div class="hm-canvas-wrap"><canvas id="hmCanvas" width="200" height="200"></canvas></div>
            <div class="word-display" id="wordDisplay"></div>
            <div class="hm-keyboard" id="hmKeyboard"></div>
        </div>

    </div>

    <script>
        // Dictionary
        const WORDS = ["apple", "bread", "chair", "dance", "eagle", "flame", "ghost", "heart", "image", "juice", "knife", "lemon", "magic", "night", "ocean", "plant", "quiet", "river", "snake", "train", "uncle", "voice", "water", "youth", "zebra", "world", "light", "house", "brain", "smile", "dream", "cloud", "stone", "space", "earth", "music", "piano", "storm", "flash", "clock"];
        const HM_WORDS = ["JAVASCRIPT", "PROGRAMMING", "DEVELOPER", "INTERFACE", "ALGORITHM", "FUNCTION", "VARIABLE", "CONSTANT", "FRAMEWORK", "DATABASE", "FRONTEND", "BACKEND", "COMPONENT", "RESPONSIVE", "AESTHETIC", "TYPOGRAPHY"];

        let currentMode = null;
        let winsW = +localStorage.getItem('wins_wordle') || 0, streakW = +localStorage.getItem('streak_wordle') || 0;
        let winsH = +localStorage.getItem('wins_hangman') || 0, streakH = +localStorage.getItem('streak_hangman') || 0;

        // Shared Utils
        function showToast(msg, btnText, callback) {
            const t = document.getElementById('toast');
            t.innerHTML = `${msg} <br><button id="toastBtn" style="margin-top:10px;padding:6px 16px;border-radius:6px;background:#fff;color:#000;border:none;font-weight:bold;cursor:pointer">${btnText || 'Next'}</button>`;
            t.classList.add('show');
            document.getElementById('toastBtn').onclick = () => { t.classList.remove('show'); if (callback) callback(); };
        }
        function hideToast() { document.getElementById('toast').classList.remove('show'); }

        document.getElementById('backMenuBtn').onclick = () => {
            document.getElementById('gameWrapper').style.display = 'none';
            document.getElementById('menu').style.display = 'flex';
        };

        // â”€â”€ Wordle Logic â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        document.getElementById('wordle-card').onclick = () => {
            currentMode = 'wordle';
            document.documentElement.style.setProperty('--accent', '#10b981');
            document.getElementById('gameModeTitle').textContent = 'Wordle';
            document.getElementById('winCount').textContent = winsW;
            document.getElementById('streakCount').textContent = streakW;
            document.getElementById('menu').style.display = 'none';
            document.getElementById('gameWrapper').style.display = 'flex';
            document.getElementById('wordleUI').style.display = 'flex';
            document.getElementById('hangmanUI').style.display = 'none';
            initWordle();
        };

        let wSolution, wGuesses, wRow, wCol, wGameOver;
        const KEYS = [['Q', 'W', 'E', 'R', 'T', 'Y', 'U', 'I', 'O', 'P'], ['A', 'S', 'D', 'F', 'G', 'H', 'J', 'K', 'L'], ['ENTER', 'Z', 'X', 'C', 'V', 'B', 'N', 'M', 'âŒ«']];

        function initWordle() {
            wSolution = WORDS[Math.floor(Math.random() * WORDS.length)].toUpperCase();
            wGuesses = Array(6).fill('').map(() => Array(5).fill(''));
            wRow = 0; wCol = 0; wGameOver = false;

            const grid = document.getElementById('grid'); grid.innerHTML = '';
            for (let r = 0; r < 6; r++) {
                const row = document.createElement('div'); row.className = 'row';
                for (let c = 0; c < 5; c++) {
                    const tile = document.createElement('div'); tile.className = 'tile'; tile.id = `t-${r}-${c}`;
                    row.appendChild(tile);
                }
                grid.appendChild(row);
            }

            const kbd = document.getElementById('keyboard'); kbd.innerHTML = '';
            KEYS.forEach(rowInfo => {
                const r = document.createElement('div'); r.className = 'kbd-row';
                rowInfo.forEach(key => {
                    const btn = document.createElement('button');
                    btn.className = `kbd-key ${key.length > 1 ? 'large' : ''}`;
                    btn.textContent = key;
                    btn.onclick = () => handleWKey(key);
                    btn.id = `k-${key}`;
                    r.appendChild(btn);
                });
                kbd.appendChild(r);
            });
            hideToast();
        }

        function handleWKey(k) {
            if (wGameOver || currentMode !== 'wordle') return;
            if (k === 'âŒ«' || k === 'Backspace') {
                if (wCol > 0) { wCol--; const t = document.getElementById(`t-${wRow}-${wCol}`); t.textContent = ''; t.dataset.state = ''; wGuesses[wRow][wCol] = ''; }
            } else if (k === 'ENTER' || k === 'Enter') {
                if (wCol === 5) submitWordle();
            } else if (/^[A-Z]$/.test(k)) {
                if (wCol < 5) {
                    wGuesses[wRow][wCol] = k;
                    const t = document.getElementById(`t-${wRow}-${wCol}`);
                    t.textContent = k; t.dataset.state = 'active';
                    setTimeout(() => t.dataset.state = '', 100);
                    wCol++;
                }
            }
        }

        function submitWordle() {
            const guess = wGuesses[wRow].join('');
            let solArr = wSolution.split('');
            let states = Array(5).fill('absent');

            // Exact matches
            for (let i = 0; i < 5; i++) {
                if (guess[i] === solArr[i]) { states[i] = 'correct'; solArr[i] = null; }
            }
            // Present
            for (let i = 0; i < 5; i++) {
                if (states[i] === 'correct') continue;
                const idx = solArr.indexOf(guess[i]);
                if (idx !== -1) { states[i] = 'present'; solArr[idx] = null; }
            }

            // Animate
            states.forEach((s, i) => {
                setTimeout(() => {
                    const t = document.getElementById(`t-${wRow}-${i}`);
                    t.dataset.state = s; t.style.transform = 'scale(1.1)';
                    setTimeout(() => t.style.transform = 'scale(1)', 150);
                    updateKbd(guess[i], s);
                }, i * 150);
            });

            setTimeout(() => {
                if (guess === wSolution) {
                    wGameOver = true; winsW++; streakW++;
                    localStorage.setItem('wins_wordle', winsW); localStorage.setItem('streak_wordle', streakW);
                    document.getElementById('winCount').textContent = winsW; document.getElementById('streakCount').textContent = streakW;
                    showToast('Magnificent!', 'Play Again', initWordle);
                } else {
                    wRow++; wCol = 0;
                    if (wRow === 6) {
                        wGameOver = true; streakW = 0; localStorage.setItem('streak_wordle', 0); document.getElementById('streakCount').textContent = 0;
                        showToast(`The word was ${wSolution}`, 'Try Again', initWordle);
                    }
                }
            }, 1000);
        }

        function updateKbd(l, s) {
            const k = document.getElementById(`k-${l}`);
            if (!k) return;
            const curr = k.dataset.state;
            if (curr === 'correct') return;
            if (curr === 'present' && s === 'absent') return;
            k.dataset.state = s;
        }

        // â”€â”€ Hangman Logic â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        document.getElementById('hangman-card').onclick = () => {
            currentMode = 'hangman';
            document.documentElement.style.setProperty('--accent', '#f87171');
            document.getElementById('gameModeTitle').textContent = 'Hangman';
            document.getElementById('winCount').textContent = winsH;
            document.getElementById('streakCount').textContent = streakH;
            document.getElementById('menu').style.display = 'none';
            document.getElementById('gameWrapper').style.display = 'flex';
            document.getElementById('wordleUI').style.display = 'none';
            document.getElementById('hangmanUI').style.display = 'flex';
            initHangman();
        };

        let hSol, hGuessed, hWrong;
        const MAX_ERRORS = 6;
        const hmCtx = document.getElementById('hmCanvas').getContext('2d');

        function initHangman() {
            hSol = HM_WORDS[Math.floor(Math.random() * HM_WORDS.length)];
            hGuessed = new Set(); hWrong = 0;

            const wd = document.getElementById('wordDisplay'); wd.innerHTML = '';
            for (let i = 0; i < hSol.length; i++) {
                const box = document.createElement('div'); box.className = 'letter-box'; box.id = `hb-${i}`;
                wd.appendChild(box);
            }

            const kbd = document.getElementById('hmKeyboard'); kbd.innerHTML = '';
            for (let i = 0; i < 26; i++) {
                const l = String.fromCharCode(65 + i);
                const b = document.createElement('button'); b.className = 'hm-key'; b.textContent = l;
                b.onclick = () => handleHKey(l, b);
                kbd.appendChild(b);
            }
            drawHm(); hideToast();
        }

        function handleHKey(l, btn) {
            if (hGuessed.has(l) || hWrong >= MAX_ERRORS) return;
            hGuessed.add(l);

            if (hSol.includes(l)) {
                btn.disabled = true; btn.style.background = '#10b981';
                let won = true;
                for (let i = 0; i < hSol.length; i++) {
                    if (hSol[i] === l) document.getElementById(`hb-${i}`).textContent = l;
                    if (!hGuessed.has(hSol[i])) won = false;
                }
                if (won) {
                    winsH++; streakH++; localStorage.setItem('wins_hangman', winsH); localStorage.setItem('streak_hangman', streakH);
                    document.getElementById('winCount').textContent = winsH; document.getElementById('streakCount').textContent = streakH;
                    showToast('You Saved Him!', 'Next Word', initHangman);
                }
            } else {
                btn.disabled = true; btn.classList.add('used-wrong');
                hWrong++; drawHm();
                if (hWrong >= MAX_ERRORS) {
                    streakH = 0; localStorage.setItem('streak_hangman', 0); document.getElementById('streakCount').textContent = 0;
                    for (let i = 0; i < hSol.length; i++) document.getElementById(`hb-${i}`).textContent = hSol[i];
                    showToast('Game Over', 'Try Again', initHangman);
                }
            }
        }

        function drawHm() {
            hmCtx.clearRect(0, 0, 200, 200);
            hmCtx.strokeStyle = '#334155'; hmCtx.lineWidth = 4; hmCtx.lineCap = 'round';
            // Base
            hmCtx.beginPath(); hmCtx.moveTo(20, 180); ctxLine(hmCtx, 100, 180);
            // Pole
            ctxLine(hmCtx, 60, 180, 60, 20); ctxLine(hmCtx, 60, 20, 140, 20); ctxLine(hmCtx, 140, 20, 140, 40);
            // Body parts
            if (hWrong > 0) { hmCtx.beginPath(); hmCtx.arc(140, 60, 20, 0, Math.PI * 2); hmCtx.stroke(); } // head
            if (hWrong > 1) ctxLine(hmCtx, 140, 80, 140, 130); // body
            if (hWrong > 2) ctxLine(hmCtx, 140, 90, 110, 110); // L arm
            if (hWrong > 3) ctxLine(hmCtx, 140, 90, 170, 110); // R arm
            if (hWrong > 4) ctxLine(hmCtx, 140, 130, 120, 170); // L leg
            if (hWrong > 5) { ctxLine(hmCtx, 140, 130, 160, 170); hmCtx.fillStyle = '#ef4444'; hmCtx.fillText('x x', 133, 58); } // R leg
        }
        function ctxLine(c, x1, y1, x2, y2) { c.moveTo(x1, y1); c.lineTo(x2 || x1, y2 || y1); c.stroke(); }

        // Global keybind
        document.addEventListener('keydown', e => {
            if (currentMode === 'wordle') handleWKey(e.key.toUpperCase());
            if (currentMode === 'hangman' && /^[a-zA-Z]$/.test(e.key)) {
                const l = e.key.toUpperCase();
                const btns = document.querySelectorAll('.hm-key');
                let btn; btns.forEach(b => { if (b.textContent === l) btn = b; });
                if (btn && !btn.disabled) handleHKey(l, btn);
            }
        });

    </script>
</body>

</html>
